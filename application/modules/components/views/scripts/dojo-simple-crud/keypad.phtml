<div class="keyPadWrapper">
<?php
if ($this->add) :
?>
    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="dijitIconNewTask" id="<?=$this->domPrefix?>btnAdd" onClick="
                    var form = new zwei.Form({
                        component: '<?=$this->component?>',
                        ajax: <?=$this->ajax ?>,
                        action: 'add',
                        dijitDialog: dijit.byId('<?=$this->domPrefix?>dialog_add'), 
                        dijitForm: dijit.byId('<?=$this->domPrefix?>form_add'), 
                        dijitDataGrid: dijit.byId('<?=$this->domPrefix?>dataGrid'),
                        queryParams: '<?=$this->queryParams?>'
                    }); 
                    form.showDialog()">
        Agregar <?=$this->name ?>
        </button>
    </div>
<?php 
endif;
?>
<?php 
if ($this->edit) :
?>
    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="dijitIconEdit" disabled="disabled" id="<?=$this->domPrefix?>btnEdit" onClick="
                var form = new zwei.Form({
                    ajax: <?=$this->ajax ?>,
                    component: '<?=$this->component?>',
                    action: 'edit',
                    dijitDialog: dijit.byId('<?=$this->domPrefix?>dialog_edit'), 
                    dijitForm: dijit.byId('<?=$this->domPrefix?>form_edit'), 
                    dijitDataGrid: dijit.byId('<?=$this->domPrefix?>dataGrid')
                }); 
                form.showDialog()">
            Editar <?=$this->name ?>
        </button>
    </div>
<?php 
endif;
?>
<?php 
if ($this->delete) :
?>
    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="dijitIconDelete" disabled="disabled" id="<?=$this->domPrefix?>btnDelete" onClick="
                var form = new zwei.Form({
                    ajax: <?=$this->ajax ?>,
                    action: 'delete',
                    component: '<?=$this->component?>',
                    dijitDialog: dijit.byId('<?=$this->domPrefix?>dialog_edit'), 
                    dijitForm: dijit.byId('<?=$this->domPrefix?>form_edit'), 
                    dijitDataGrid: dijit.byId('<?=$this->domPrefix?>dataGrid'),
                    dijitFormSearch: dijit.byId('<?=$this->domPrefix?>formSearch')
                }); 
                form['delete']()">
            Eliminar <?=$this->name ?>
        </button>
    </div>
<?php 
endif;
?>
<?php
if ($this->clone) :
?>
    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="dijitIconNewTask" disabled="disabled" id="<?=$this->domPrefix?>btnClone" onClick="
                var form = new zwei.Form({
                    ajax: <?=$this->ajax ?>,
                    component: '<?=$this->component?>',
                    action: 'clone',
                    dijitDialog: dijit.byId('<?=$this->domPrefix?>dialog_add'), 
                    dijitForm: dijit.byId('<?=$this->domPrefix?>form_add'), 
                    dijitDataGrid: dijit.byId('<?=$this->domPrefix?>dataGrid')
                }); 
                form.showDialog()">
                Clonar <?=$this->name ?>
        </button>
    </div>
<?php 
endif;
?>
<?php 
if ($this->changePassword) :
?>
    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="dijitIconEdit" disabled="disabled" id="<?=$this->domPrefix?>btnChangePassword" onClick="
            var form = new zwei.Form({
                ajax: <?=$this->ajax ?>,
                component: '<?=$this->component?>',
                action: 'edit',
                dijitDialog: dijit.byId('<?=$this->domPrefix?>dialog_editpass'), 
                dijitForm: dijit.byId('<?=$this->domPrefix?>form_editpass'), 
                dijitDataGrid: dijit.byId('<?=$this->domPrefix?>dataGrid')
            }); 
            form.showDialog()">
            Cambiar Contrase&ntilde;a
        </button>
    </div>
<?php 
endif;
?>
<?php 
foreach ($this->customFunctions as $i => $f) :
    $onclick = isset($f['onclick']) ? $f['onclick'].';' : '';
    $target = isset($f['target']) ? "admportal.execFunction('{$f['target']}', '', '{$this->domPrefix}', '{$this->component}', '{$this->primary}');" : '';
?>
    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="<?=$f['iconClass'] ? $f['iconClass'] : 'dijitIconFunction'?>" id="<?=$this->domPrefix?>btnFunction<?=$i?>" onClick="<?=$onclick.$target?>">
        <?=$f['name'] ? $f['name'] : $f['target']?>
        </button>
    </div>
<?php 
endforeach;
?>
<?php 
foreach ($this->excel as $i => $f) :
    $formatter = $f->getAttribute('formatter') ? $f->getAttribute('formatter') : $this->zweiExcelVersion;
    $name = $f->getAttribute('name') ? $f->getAttribute('name') : 'Descargar como Excel' ;
?>

    <div class="keyPadButton">
        <button type="button" data-dojo-type="dijit/form/Button" iconClass="dijitIconEdit" id="<?=$this->domPrefix?>btnChangePassword" onClick="
            var form = new zwei.Form({
                dijitFormSearch: dijit.byId('<?=$this->domPrefix ?>formSearch'), 
                dijitDataGrid: dijit.byId('<?=$this->domPrefix ?>dataGrid'), 
                queryParams: 'format=excel&excel_formatter=<?=$formatter?>',
                iframe: dojo.byId('ifrm_process')
            });
            form.loadData()">
            <?=$name?>
        </button>
    </div>
<?php 
endforeach;
?>
</div>